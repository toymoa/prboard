includes:
    - vendor/phpstan/phpstan-strict-rules/rules.neon
    - vendor/phpstan/phpstan-phpunit/extension.neon

parameters:
    level: 8
    paths:
        - src
        - tests
    
    # PHP 8.4 기능 사용
    phpVersion: 80400
    
    # 엄격한 규칙
    strictRules:
        allRules: true
        
    # 타입 검사 강화
    checkMissingIterableValueType: true
    checkGenericClassInNonGenericObjectType: true
    checkMissingCallableSignature: true
    checkMissingVarDoctype: true
    checkUninitializedProperties: true
    checkTooWideReturnTypesInProtectedAndPublicMethods: true
    checkImplicitMixed: true
    
    # 예외 처리
    exceptions:
        check:
            missingCheckedExceptionInThrows: true
            tooWideThrowType: true
        
    # 미사용 코드 검출
    checkUnusedVariables: true
    checkMissingTypehints: true
    
    # 추가 검사
    reportUnmatchedIgnoredErrors: true
    treatPhpDocTypesAsCertain: false
